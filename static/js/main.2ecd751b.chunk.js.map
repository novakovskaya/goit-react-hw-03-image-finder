{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.scss","components/Modal/Modal.module.scss","components/Container/Container.module.scss","components/ImageGallery/ImageGallery.module.scss","components/Button/Button.module.scss","components/Loader/LoaderSpinner.module.scss","services/pixabay.js","components/Container/Container.js","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/LoaderSpinner.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.scss"],"names":["module","exports","fetchImagesApi","searchQuery","page","fetch","then","response","ok","json","Promise","reject","Error","propTypes","PropTypes","string","isRequired","number","Container","children","className","styles","Searchbar","state","handleSubmit","event","preventDefault","trim","toast","error","props","onSubmit","setState","handleInput","currentTarget","value","toLowerCase","Form","this","type","Button","style","width","height","Input","onChange","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","imagesUrl","imagesAlt","imageId","onClick","GalleryItem","GalleryImage","src","alt","id","ImageGallery","images","onOpenModal","Gallery","map","image","webformatURL","tags","onClickLoadMore","LoaderSpinner","Loader","color","timeout","modalRoot","document","querySelector","Modal","handleKeyDown","code","onCloseModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Backdrop","Status","App","imagesArray","showModal","imagesModal","status","handleFormSubmit","resetPage","handleLoadMoreBtn","prevState","toggleModal","prevProps","prevSearchQuery","prevPage","hits","length","catch","largeImageURL","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2ecd751b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"GalleryItem\":\"ImageGalleryItem_GalleryItem__2AqdL\",\"GalleryImage\":\"ImageGalleryItem_GalleryImage__1tjhZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Backdrop\":\"Modal_Backdrop__2FiRk\",\"Modal\":\"Modal_Modal__32mLz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__11SY1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"ImageGallery_Gallery__2a0mQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2BYYQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Loader\":\"LoaderSpinner_Loader__NClHf\"};","import PropTypes from \"prop-types\";\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"23966017-42a6e7201c4148adfb36c1add\";\n\nconst fetchImagesApi = (searchQuery, page) => {\n  return fetch(\n    `${BASE_URL}?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(\"Requested images not found!\"));\n  });\n};\n\nfetchImagesApi.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n};\n\nexport default fetchImagesApi;\n","import styles from \"./Container.module.scss\";\n\nconst Container = ({ children }) => {\n  return <div className={styles.Container}>{children}</div>;\n};\n\nexport default Container;\n","import { Component } from \"react\";\nimport { BsSearch } from \"react-icons/bs\";\n\nimport { toast } from \"react-toastify\";\nimport styles from \"./Searchbar.module.scss\";\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: \"\",\n  };\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n\n    const { searchQuery } = this.state;\n    if (searchQuery.trim() === \"\") {\n      return toast.error(\"Enter something\");\n    }\n\n    this.props.onSubmit(searchQuery);\n    this.setState({ searchQuery: \"\" });\n  };\n\n  handleInput = (event) => {\n    this.setState({ searchQuery: event.currentTarget.value.toLowerCase() });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.Form} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.Button}>\n            <BsSearch style={{ width: 20, height: 20 }} />\n          </button>\n\n          <input\n            className={styles.Input}\n            type=\"text\"\n            value={this.state.searchQuery}\n            onChange={this.handleInput}\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import PropTypes from \"prop-types\";\nimport styles from \"./ImageGalleryItem.module.scss\";\n\nconst ImageGalleryItem = ({ imagesUrl, imagesAlt, imageId, onClick }) => {\n  return (\n    <li className={styles.GalleryItem} onClick={onClick}>\n      <img\n        className={styles.GalleryImage}\n        src={imagesUrl}\n        alt={imagesAlt}\n        id={imageId}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  imagesUrl: PropTypes.string.isRequired,\n  imagesAlt: PropTypes.string.isRequired,\n  imageId: PropTypes.number.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport styles from \"./ImageGallery.module.scss\";\n\nconst ImageGallery = ({ images, onOpenModal }) => {\n  return (\n    <ul className={styles.Gallery}>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          imagesUrl={image.webformatURL}\n          imagesAlt={image.tags}\n          imageId={image.id}\n          onClick={() => {\n            onOpenModal(image);\n          }}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import styles from \"./Button.module.scss\";\n\nconst Button = ({ onClickLoadMore }) => {\n  return (\n    <button\n      type=\"button\"\n      className={styles.Button}\n      onClick={() => onClickLoadMore()}\n    >\n      Load more\n    </button>\n  );\n};\n\nexport default Button;\n","import Loader from \"react-loader-spinner\";\nimport styles from \"./LoaderSpinner.module.scss\";\n\nconst LoaderSpinner = () => {\n  return (\n    <Loader\n      className={styles.Loader}\n      type=\"ThreeDots\"\n      color=\"#000000\"\n      height={80}\n      width={80}\n      timeout={3000}\n    />\n  );\n};\n\nexport default LoaderSpinner;\n","import { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styles from \"./Modal.module.scss\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (event) => {\n    if (event.code === \"Escape\") {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n\n    return createPortal(\n      <div className={styles.Backdrop} onClick={this.handleBackdropClick}>\n        <div className={styles.Modal}>{children}</div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport fetchImagesApi from \"./services/pixabay\";\nimport Container from \"./components/Container\";\nimport Searchbar from \"./components/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery\";\nimport Button from \"./components/Button\";\nimport LoaderSpinner from \"./components/Loader\";\nimport Modal from \"./components/Modal\";\n\nconst Status = {\n  IDLE: \"idle\",\n  PENDING: \"pending\",\n  RESOLVED: \"resolved\",\n  REJECTED: \"rejected\",\n};\n\nclass App extends Component {\n  state = {\n    searchQuery: \"\",\n    page: 1,\n    imagesArray: [],\n    showModal: false,\n    imagesModal: {},\n    status: Status.IDLE,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, page } = this.state;\n    const prevSearchQuery = prevState.searchQuery;\n    const prevPage = prevState.page;\n\n    if (prevSearchQuery !== searchQuery || prevPage !== page) {\n      this.setState({ status: Status.PENDING });\n\n      fetchImagesApi(searchQuery, page)\n        .then((images) => {\n          if (images.hits.length === 0) {\n            toast.error(\"Requested images not found!\");\n            this.resetPage();\n          }\n\n          this.setState((prevState) =>\n            page > 1\n              ? {\n                  imagesArray: [...prevState.imagesArray, ...images.hits],\n                  status: Status.RESOLVED,\n                }\n              : { imagesArray: images.hits, status: Status.RESOLVED }\n          );\n        })\n        .catch((error) => {\n          this.setState({ error, status: Status.REJECTED });\n          toast.error(\"Requested images not found!\");\n        });\n    }\n  }\n\n  handleFormSubmit = (searchQuery) => {\n    this.resetPage();\n    this.setState({ searchQuery });\n  };\n\n  resetPage = () => {\n    this.setState({ page: 1 });\n  };\n\n  handleLoadMoreBtn = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = (imagesArray) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      imagesModal: imagesArray,\n    }));\n  };\n\n  render() {\n    const { imagesArray, status, showModal, imagesModal } = this.state;\n    return (\n      <Container>\n        <Searchbar onSubmit={this.handleFormSubmit} />\n\n        <ImageGallery images={imagesArray} onOpenModal={this.toggleModal} />\n\n        {status === \"pending\" && <LoaderSpinner />}\n\n        {imagesArray.length >= 12 && (\n          <Button onClickLoadMore={this.handleLoadMoreBtn} />\n        )}\n\n        {showModal && (\n          <Modal onCloseModal={this.toggleModal}>\n            <img src={imagesModal.largeImageURL} alt={imagesModal.tags} />\n          </Modal>\n        )}\n\n        <ToastContainer autoClose={1500} />\n      </Container>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2Ep_q\",\"Form\":\"Searchbar_Form__3c5G2\",\"Button\":\"Searchbar_Button__2Cdu_\",\"Input\":\"Searchbar_Input__1wg49\"};"],"sourceRoot":""}